<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>[译] RxJS: 6个你必须知道的操作符 | Rxjs</title>
    <meta name="generator" content="VuePress 1.5.4">
    
    <meta name="description" content="目录">
    <link rel="preload" href="/assets/css/0.styles.ccac5a78.css" as="style"><link rel="preload" href="/assets/js/app.de24a261.js" as="script"><link rel="preload" href="/assets/js/2.f6e3d3ee.js" as="script"><link rel="preload" href="/assets/js/9.55a51475.js" as="script"><link rel="prefetch" href="/assets/js/10.157238cf.js"><link rel="prefetch" href="/assets/js/11.41a012c6.js"><link rel="prefetch" href="/assets/js/12.b8086885.js"><link rel="prefetch" href="/assets/js/13.e45c7342.js"><link rel="prefetch" href="/assets/js/14.e3e54685.js"><link rel="prefetch" href="/assets/js/15.9351c89b.js"><link rel="prefetch" href="/assets/js/16.7d3aff72.js"><link rel="prefetch" href="/assets/js/17.cd3a7c14.js"><link rel="prefetch" href="/assets/js/18.7b5bc8d2.js"><link rel="prefetch" href="/assets/js/19.77700336.js"><link rel="prefetch" href="/assets/js/20.ca0fdbb6.js"><link rel="prefetch" href="/assets/js/21.d6bc78c5.js"><link rel="prefetch" href="/assets/js/22.2428074e.js"><link rel="prefetch" href="/assets/js/23.93a777ed.js"><link rel="prefetch" href="/assets/js/24.73aa7224.js"><link rel="prefetch" href="/assets/js/25.e43f6412.js"><link rel="prefetch" href="/assets/js/26.60ae3da3.js"><link rel="prefetch" href="/assets/js/27.03e00c07.js"><link rel="prefetch" href="/assets/js/28.95c8c079.js"><link rel="prefetch" href="/assets/js/29.eb8ac4a8.js"><link rel="prefetch" href="/assets/js/3.d907f710.js"><link rel="prefetch" href="/assets/js/30.5c09e00d.js"><link rel="prefetch" href="/assets/js/31.962a908d.js"><link rel="prefetch" href="/assets/js/32.c0fe7bdd.js"><link rel="prefetch" href="/assets/js/33.74f04d2b.js"><link rel="prefetch" href="/assets/js/34.20bdc3d5.js"><link rel="prefetch" href="/assets/js/35.d30ab2c2.js"><link rel="prefetch" href="/assets/js/36.d13995e1.js"><link rel="prefetch" href="/assets/js/37.08e1d965.js"><link rel="prefetch" href="/assets/js/38.fae351d3.js"><link rel="prefetch" href="/assets/js/39.a40c9688.js"><link rel="prefetch" href="/assets/js/4.fe9ea34b.js"><link rel="prefetch" href="/assets/js/40.87c8b8ee.js"><link rel="prefetch" href="/assets/js/41.242cc580.js"><link rel="prefetch" href="/assets/js/42.736834a5.js"><link rel="prefetch" href="/assets/js/43.57a7a89e.js"><link rel="prefetch" href="/assets/js/44.2c085c54.js"><link rel="prefetch" href="/assets/js/45.fcfe6221.js"><link rel="prefetch" href="/assets/js/46.31dda88a.js"><link rel="prefetch" href="/assets/js/5.7bdab572.js"><link rel="prefetch" href="/assets/js/6.af184b79.js"><link rel="prefetch" href="/assets/js/7.d5eaab60.js"><link rel="prefetch" href="/assets/js/8.b99143ac.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ccac5a78.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Rxjs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/rxjs-docs/home.html" class="nav-link">
  rxjs
</a></div><div class="nav-item"><a href="/articles/home.html" class="nav-link">
  精选文章
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/rxjs-docs/home.html" class="nav-link">
  rxjs
</a></div><div class="nav-item"><a href="/articles/home.html" class="nav-link">
  精选文章
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/articles/home.html" class="sidebar-link">RxJS 优质文章翻译</a></li><li><a href="/articles/articles/ADVANCED-CACHING-WITH-RXJS.html" class="sidebar-link">[译] RxJS 高级缓存</a></li><li><a href="/articles/articles/Angular-Simple-Infinite-Scroller-Directive-With-RxJS-Observables.html" class="sidebar-link">[译] Angular: 使用 RxJS Observables 来实现简易版的无限滚动加载指令</a></li><li><a href="/articles/articles/Debugging-RxJS-Part1-Tooling.html" class="sidebar-link">[译] 调试 RxJS 第1部分: 工具篇</a></li><li><a href="/articles/articles/Debugging-RxJS-Part2-Logging.html" class="sidebar-link">[译] 调试 RxJS 第2部分: 日志篇</a></li><li><a href="/articles/articles/Don't-Unsubscribe.html" class="sidebar-link">[译] RxJS: 别取消订阅</a></li><li><a href="/articles/articles/Hot-Vs-Cold-Observables.html" class="sidebar-link">[译] 热的 Vs 冷的 Observables</a></li><li><a href="/articles/articles/How-To-Use-RefCount.html" class="sidebar-link">[译] RxJS: 如何使用 refCount</a></li><li><a href="/articles/articles/Infinite-Scroll-In-Angular-An-RxJS.html" class="sidebar-link">[译] 使用 Angular 和 RxJS 实现的无限滚动加载</a></li><li><a href="/articles/articles/Learn-To-Combine-RxJS-Sequences-With-Super-Intuitive-Interactive-Diagrams.html" class="sidebar-link">[译] RxJS: 使用超直观的交互图来学习组合操作符</a></li><li><a href="/articles/articles/Learning-Observable-By-Building-Observable.html" class="sidebar-link">[译] 通过构建 Observable 来学习 Observable</a></li><li><a href="/articles/articles/Naive-Infinite-Scroll-In-Reactive-Programming-Using-RxJS-Observables.html" class="sidebar-link">[译] 使用响应式编程来实现简易版的无限滚动加载</a></li><li><a href="/articles/articles/On-The-Subject-Of-Subjects.html" class="sidebar-link">[译] 关于 RxJS 中的 Subject</a></li><li><a href="/articles/articles/PRIMER-ON-RXJS-SCHEDULERS.html" class="sidebar-link">[译] RxJS 调度器入门</a></li><li><a href="/articles/articles/Reactive-Brain-Waves.html" class="sidebar-link">[译] 响应式脑电波</a></li><li><a href="/articles/articles/RxJS-Observable-Interop-With-Promises-And-Async-Await.html" class="sidebar-link">[译] RxJS Observable 与 Promises 和 Async-Await 交互</a></li><li><a href="/articles/articles/Six-Operators-That-You-Must-Know.html" aria-current="page" class="active sidebar-link">[译] RxJS: 6个你必须知道的操作符</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/articles/articles/Six-Operators-That-You-Must-Know.html#_1-concat" class="sidebar-link">1. concat</a></li><li class="sidebar-sub-header"><a href="/articles/articles/Six-Operators-That-You-Must-Know.html#按顺序订阅-observables-但是只有当一个完成并让我知道-然后才会开始下一个。" class="sidebar-link">_按顺序订阅 Observables，但是只有当一个完成并让我知道，然后才会开始下一个。_</a></li><li class="sidebar-sub-header"><a href="/articles/articles/Six-Operators-That-You-Must-Know.html#_2-forkjoin" class="sidebar-link">2. forkJoin</a></li><li class="sidebar-sub-header"><a href="/articles/articles/Six-Operators-That-You-Must-Know.html#直到所有的-observables-都完成了才通知我-然后一次性地给我所有的值。-以数组的形式" class="sidebar-link">_直到所有的 Observables 都完成了才通知我，然后一次性地给我所有的值。(以数组的形式)_</a></li><li class="sidebar-sub-header"><a href="/articles/articles/Six-Operators-That-You-Must-Know.html#_3-mergemap" class="sidebar-link">3. mergeMap</a></li><li class="sidebar-sub-header"><a href="/articles/articles/Six-Operators-That-You-Must-Know.html#仅当内部-obervable-发出值时-通过合并值到外部-observable-来让我知道。" class="sidebar-link">_仅当内部 Obervable 发出值时，通过合并值到外部 Observable 来让我知道。_</a></li><li class="sidebar-sub-header"><a href="/articles/articles/Six-Operators-That-You-Must-Know.html#_4-pairwise" class="sidebar-link">4. pairwise</a></li><li class="sidebar-sub-header"><a href="/articles/articles/Six-Operators-That-You-Must-Know.html#当-observable-发出值时让我知道-但还得给我前一个值。-以数组的形式" class="sidebar-link">_当 Observable 发出值时让我知道，但还得给我前一个值。(以数组的形式)_</a></li><li class="sidebar-sub-header"><a href="/articles/articles/Six-Operators-That-You-Must-Know.html#_5-switchmap" class="sidebar-link">5. switchMap</a></li><li class="sidebar-sub-header"><a href="/articles/articles/Six-Operators-That-You-Must-Know.html#类似于-mergemap-但是当源-observable-发出值时会取消内部-observable-先前的所有订阅-。" class="sidebar-link">_类似于 mergeMap，但是当源 Observable 发出值时会取消内部 Observable 先前的所有订阅 。_</a></li><li class="sidebar-sub-header"><a href="/articles/articles/Six-Operators-That-You-Must-Know.html#_6-combinelatest" class="sidebar-link">6. combineLatest</a></li><li class="sidebar-sub-header"><a href="/articles/articles/Six-Operators-That-You-Must-Know.html#当任意-observable-发出值时让我知道-但还要给我其他-observalbes-的最新值。-以数组的形式" class="sidebar-link">_当任意 Observable 发出值时让我知道，但还要给我其他 Observalbes 的最新值。(以数组的形式)_</a></li></ul></li><li><a href="/articles/articles/Subjects-For-Human-Beings.html" class="sidebar-link">[译] RxJS: 白话 Subjects</a></li><li><a href="/articles/articles/TAMING-SNAKES-WITH-REACTIVE-STREAMS.html" class="sidebar-link">[译] RxJS 游戏之贪吃蛇</a></li><li><a href="/articles/articles/Testing-Race-Conditions-Using-RxJS-Marbles.html" class="sidebar-link">[译] RxJS 进阶技巧: 使用 RxJS Marbles 测试竞争条件</a></li><li><a href="/articles/articles/Understanding-Subjects-in-RxJS.html" class="sidebar-link">[译] 理解 RxJS 中 Subjects</a></li><li><a href="/articles/articles/Understanding-The-Publish-And-Share-Operators.html" class="sidebar-link">[译] RxJS: 理解 publish 和 share 操作符</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="译-rxjs-6个你必须知道的操作符"><a href="#译-rxjs-6个你必须知道的操作符" class="header-anchor">#</a> [译] RxJS: 6个你必须知道的操作符</h1> <blockquote><p>原文链接: <a href="https://netbasal.com/rxjs-six-operators-that-you-must-know-5ed3b6e238a0" target="_blank" rel="noopener noreferrer">https://netbasal.com/rxjs-six-operators-that-you-must-know-5ed3b6e238a0<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h2 id="_1-concat"><a href="#_1-concat" class="header-anchor">#</a> 1. concat</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 模拟 HTTP 请求</span>
<span class="token keyword">const</span> getPostOne$ <span class="token operator">=</span> Rx<span class="token punctuation">.</span>Observable<span class="token punctuation">.</span><span class="token function">timer</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mapTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> getPostTwo$ <span class="token operator">=</span> Rx<span class="token punctuation">.</span>Observable<span class="token punctuation">.</span><span class="token function">timer</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mapTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Rx<span class="token punctuation">.</span>Observable<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>getPostOne$<span class="token punctuation">,</span> getPostTwo$<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="按顺序订阅-observables-但是只有当一个完成并让我知道-然后才会开始下一个。"><a href="#按顺序订阅-observables-但是只有当一个完成并让我知道-然后才会开始下一个。" class="header-anchor">#</a> <strong><em>按顺序订阅 Observables，但是只有当一个完成并让我知道，然后才会开始下一个。</em></strong></h2> <p><img src="data:image/gif;base64,R0lGODlh7gKFAPQAACczSS5VlixNhTJu0yg/ZDY2NkhISCQkJDNx2Hx8fDJryldXVyc4VDV67iUsOC9bpjZ78GlpaTBjuAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAQZAAAAIf8LTkVUU0NBUEUyLjADAQAAACwAAAAA7gKFAAAF/uAhjmRpnmiqrmzrvnAsz3Rt33iu73zv/8CgcEgsGo/IpHLJbDqf0Kh0Sq1ar9isdsvter/gsHhMLpvP6LR6zW673/C4fE6v2+/4vH7P7/v/gIGCg4SFhoeIiYqLjI1BBQsLBUMGCREJXgURm5NJEQaOoaKjpEMJp6egQQYGl5kLl51ICaqltre4uSeXqgtFm2ALmEmVsrrHyMmIBQm+JpeWI7DCtCOtqCOap84jzSWVqSmaxq0H15ay4NEr2usiriTntdTe0hHUzvLZqPDK/v8A9Zw6sa1SBBEFBx5g9qnVJGa0hHFjVuuARHDiEhgDds8ANREGPQ5LIazhyAP1/kBauvawmUhuqDweNAhL48KVlw4G3Mmz55qU1mweAIZSpzARwoxZHOmuEgmK3So+xQSpAFQSR5e6YHjiKkKdKLl1c8aVhLtqCpmJ9cm2rdsrldYWHeHqKjyIC2qdBZsVqaVNvFJo5AWP3jpwklYUO7FYJeBLvtqFM1dN2t9I3up5fcu5s2cklaSG7TaT6UR8N/XCBDvUZaTEKGil8sbLakqRlVH0LbFbYiSPk05ZFdbrZGuPr22ravy5ufPnOdSa0Fytb27SN50lHUuCaItT94RLpywaqInd3Vmjp9ypH/r1do1Dn0+/fmxakJwJxziX/MIIVsX1VQEGmUWLKrVB/iKagZDUEw04kwDX4IKWSaJJdwc6FqAvEjVoGm/NEJjXTQCWZN+JKNoH0WTqfEiZSqhwQ89a6nSDilCxldYJPbEsFSML0CgEo1CGqcLPWaIFKZSScqXo5JNuWWWCUipIOeULD9lA5UJbirOVlU/FQGWXUJZp5plopqnmmmy26eabcMYp55x01mnnnXjmqeeefL4pS5YLBSpCJ4CGCWahgColJZnZ/Cnoo1xmM6ijxhA6qaCWOhrpo4kO6imkXWlKKaecWnppp5+ieiWpgZoqqQyjkoroq6m2iimoJbia6ae0whDrqJpCumunjOrqqau8+iqpsbMmO+ytxfK6K6iM/np5rLS2YvtqlsRWqa2qyWK5LLbNCnttt9aKemuYsPba57vwxivvvPTWa++9+Oar77789uvvvwAHLPDABBds8MEIl+FAwgw3DBAACgSwsMMUV1wKAwhAEIDFHHfMCAMDNPDAxB6XbDIgDCggMsknt+yyHQRAAIEAL9ds8xsASACBBCzf7PPPYUC8MtBEF80FxBCMbPTSTFOBsdJNRy01EwD0PPXVWGet9dZcd+3112CHLfbYZJdt9tlop6322my37fbbcMct99x012333XjnrffefPft99+ABy744IQXbvjhiCeu+OKMN+7445BHLvnklFdu+eWYZ6755px37vnnpKCHLvropJdu+umop6766qy37vrrsMcu++y012777bjnrvvuvPfu++/ABy/88MQXb/zxyCev/PLMN+/889BHL/301Fdv/fXYZ6/99tx37/334Icv/vjkl2/++einr/767Lfv/vvwxy///PTXb//9+Oev//789+///wAMoAAHSMACGvCACEygAhfIwAY68IEQjKAEJ0jBClrwghjMoAY3yMEOsi8EACH5BAXIAAAALAAAAADuAoUAgAAAAAAAAAL+hI+py+0Po5y02ouz3rz7D4biSJbmiabqyrbuC8fyTNf2jef6zvf+DwwKh8Si8YhMKpfMpvMJjUqn1Kr1is1qt9yu9wsOi8fksvmMTqvX7Lb7DY/L5/S6/Y7P6/f8vv8PGCg4SFhoeIiYqLjI2Oj4CBkpOUlZaXmJmam5ydnp+QkaKjpKWmp6ipqqusra6voKGys7S1tre4ubq7vL2+v7CxwsPExcbHyMnKy8zNzs/AwdLT1NXW19jZ2tvc3d7f0NHi4+Tl5ufo6err7O3u7+Dh8vP09fb3+Pn6+/z9/v/w8woMCBBAsaPIgwocKFDBs6fAgxosSJFCtavIgxo8bAjRw7evwIMqTIkSRLmjyJMqXKlSxbunwJM6bMmTRr2ryJM6fOnTx7+vwJNKjQoUSLGj2KNKnSpUybOn0KNarUqVSrWr2KNavWrVy7ev0KNqzYsWTLmj2LNq3atWzbun0LN67cuXTr2r2LN6/evXz7+v0LOLDgwYQLGz6MOLHixYwbO34MObLkyZQrW76MObPmzZw7e/4MOrTo0aRLmz6NOrXq1axbu34NO7bs2bRr276NO7fu3bx7+/4N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" alt="concat"></p> <p>当顺序很重要时，使用此操作符，例如当你需要按顺序的发送 HTTP 请求时。</p> <h2 id="_2-forkjoin"><a href="#_2-forkjoin" class="header-anchor">#</a> 2. forkJoin</h2> <p><code>forkJoin</code> 是 Rx 版的 <code>Promise.all()</code> 。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> getPostOne$ <span class="token operator">=</span> Rx<span class="token punctuation">.</span>Observable<span class="token punctuation">.</span><span class="token function">timer</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mapTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> getPostTwo$ <span class="token operator">=</span> Rx<span class="token punctuation">.</span>Observable<span class="token punctuation">.</span><span class="token function">timer</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mapTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Rx<span class="token punctuation">.</span>Observable<span class="token punctuation">.</span><span class="token function">forkJoin</span><span class="token punctuation">(</span>getPostOne$<span class="token punctuation">,</span> getPostTwo$<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span> 
</code></pre></div><h2 id="直到所有的-observables-都完成了才通知我-然后一次性地给我所有的值。-以数组的形式"><a href="#直到所有的-observables-都完成了才通知我-然后一次性地给我所有的值。-以数组的形式" class="header-anchor">#</a> <strong><em>直到所有的 Observables 都完成了才通知我，然后一次性地给我所有的值。(以数组的形式)</em></strong></h2> <p><img src="/assets/img/forkJoin.37e19092.gif" alt="forkJoin"></p> <p>当你需要并行地运行 Observables 时使用此操作符。</p> <h2 id="_3-mergemap"><a href="#_3-mergemap" class="header-anchor">#</a> 3. mergeMap</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> post$ <span class="token operator">=</span> Rx<span class="token punctuation">.</span>Observable<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> getPostInfo$ <span class="token operator">=</span> Rx<span class="token punctuation">.</span>Observable<span class="token punctuation">.</span><span class="token function">timer</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mapTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>title<span class="token operator">:</span> <span class="token string">&quot;Post title&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> posts$ <span class="token operator">=</span> post$<span class="token punctuation">.</span><span class="token function">mergeMap</span><span class="token punctuation">(</span><span class="token parameter">post</span> <span class="token operator">=&gt;</span> getPostInfo$<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>首先，我们得理解 Observables 世界中的两个术语:</p> <ol><li>源 (或外部) Observable - 在本例中就是 <code>post$</code> Observable 。</li> <li>内部 Observable - 在本例中就是 <code>getPostInfo$</code> Observable 。</li></ol> <h2 id="仅当内部-obervable-发出值时-通过合并值到外部-observable-来让我知道。"><a href="#仅当内部-obervable-发出值时-通过合并值到外部-observable-来让我知道。" class="header-anchor">#</a> <strong><em>仅当内部 Obervable 发出值时，通过合并值到外部 Observable 来让我知道。</em></strong></h2> <p><img src="/assets/img/mergeMap.ca33c323.gif" alt="mergeMap"></p> <h2 id="_4-pairwise"><a href="#_4-pairwise" class="header-anchor">#</a> 4. pairwise</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 追踪页面滚动增量</span>
Rx<span class="token punctuation">.</span>Observable
  <span class="token punctuation">.</span><span class="token function">fromEvent</span><span class="token punctuation">(</span>document<span class="token punctuation">,</span> <span class="token string">'scroll'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> window<span class="token punctuation">.</span>pageYOffset<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">pairwise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token parameter">pair</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pair<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// pair[1] - pair[0]</span>
</code></pre></div><h2 id="当-observable-发出值时让我知道-但还得给我前一个值。-以数组的形式"><a href="#当-observable-发出值时让我知道-但还得给我前一个值。-以数组的形式" class="header-anchor">#</a> <strong><em>当 Observable 发出值时让我知道，但还得给我前一个值。(以数组的形式)</em></strong></h2> <p>页面滚动…</p> <p><img src="/assets/img/pairwise.c430821c.gif" alt="pairwise"></p> <p>从输入 Observable 的第二个值开始触发。</p> <h2 id="_5-switchmap"><a href="#_5-switchmap" class="header-anchor">#</a> 5. switchMap</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> clicks$ <span class="token operator">=</span> Rx<span class="token punctuation">.</span>Observable<span class="token punctuation">.</span><span class="token function">fromEvent</span><span class="token punctuation">(</span>document<span class="token punctuation">,</span> <span class="token string">'click'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> innerObservable$ <span class="token operator">=</span> Rx<span class="token punctuation">.</span>Observable<span class="token punctuation">.</span><span class="token function">interval</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

clicks$<span class="token punctuation">.</span><span class="token function">switchMap</span><span class="token punctuation">(</span><span class="token parameter">event</span> <span class="token operator">=&gt;</span> innerObservable$<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token parameter">val</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="类似于-mergemap-但是当源-observable-发出值时会取消内部-observable-先前的所有订阅-。"><a href="#类似于-mergemap-但是当源-observable-发出值时会取消内部-observable-先前的所有订阅-。" class="header-anchor">#</a> <strong><em>类似于 mergeMap，但是当源 Observable 发出值时会取消内部 Observable 先前的所有订阅 。</em></strong></h2> <p>在我们的示例中，每次我点击页面的时，先前的 <code>interval</code> 订阅都会取消，然后开启一个新的。</p> <p><img src="/assets/img/switchMap.e528889f.gif" alt="switchMap"></p> <h2 id="_6-combinelatest"><a href="#_6-combinelatest" class="header-anchor">#</a> 6. combineLatest</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> intervalOne$ <span class="token operator">=</span> Rx<span class="token punctuation">.</span>Observable<span class="token punctuation">.</span><span class="token function">interval</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> intervalTwo$ <span class="token operator">=</span> Rx<span class="token punctuation">.</span>Observable<span class="token punctuation">.</span><span class="token function">interval</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Rx<span class="token punctuation">.</span>Observable<span class="token punctuation">.</span><span class="token function">combineLatest</span><span class="token punctuation">(</span>
    intervalOne$<span class="token punctuation">,</span>
    intervalTwo$ 
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token parameter">all</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>all<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="当任意-observable-发出值时让我知道-但还要给我其他-observalbes-的最新值。-以数组的形式"><a href="#当任意-observable-发出值时让我知道-但还要给我其他-observalbes-的最新值。-以数组的形式" class="header-anchor">#</a> <strong><em>当任意 Observable 发出值时让我知道，但还要给我其他 Observalbes 的最新值。(以数组的形式)</em></strong></h2> <p><img src="/assets/img/combineLatest.291a9e3a.gif" alt="combineLatest"></p> <p>例如当你需要处理应用中的过滤器时，此操作符非常有用。</p> <p>如果你想了解更多关于 Observables 的内容，可以阅读我的文章:</p> <ol><li><a href="https://netbasal.com/javascript-observables-under-the-hood-2423f760584#.ptzobjg31" target="_blank" rel="noopener noreferrer">Observables under the hood<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</li> <li><a href="https://netbasal.com/understanding-subjects-in-rxjs-55102a190f3#.302oa6o3w" target="_blank" rel="noopener noreferrer">Understanding Subjects In Rx<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/articles/articles/RxJS-Observable-Interop-With-Promises-And-Async-Await.html" class="prev">
        [译] RxJS Observable 与 Promises 和 Async-Await 交互
      </a></span> <span class="next"><a href="/articles/articles/Subjects-For-Human-Beings.html">
        [译] RxJS: 白话 Subjects
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.de24a261.js" defer></script><script src="/assets/js/2.f6e3d3ee.js" defer></script><script src="/assets/js/9.55a51475.js" defer></script>
  </body>
</html>
